<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHIIP-SEEK Content Parser</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
        }

        .title {
            font-size: 3rem;
            background: linear-gradient(45deg, #00ff88, #00ccff, #bb00ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-shadow: 0 0 30px rgba(0, 255, 136, 0.3);
        }

        .subtitle {
            color: #8899aa;
            font-size: 1.2rem;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .input-section, .output-section {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 255, 136, 0.2);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            color: #00ff88;
            font-weight: 600;
        }

        .url-input {
            width: 100%;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #00ff88;
            border-radius: 10px;
            color: #ffffff;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .url-input:focus {
            outline: none;
            border-color: #00ccff;
            box-shadow: 0 0 20px rgba(0, 204, 255, 0.3);
        }

        .proxy-section {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .proxy-select {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #00ccff;
            border-radius: 8px;
            color: #ffffff;
            font-size: 14px;
        }

        .btn {
            background: linear-gradient(45deg, #00ff88, #00ccff);
            color: #000;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 255, 136, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #00ff88;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #8899aa;
        }

        .result-area {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #00ccff;
            border-radius: 10px;
            padding: 20px;
            color: #e0e0e0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre-wrap;
            max-height: 600px;
            overflow-y: auto;
            min-height: 200px;
        }

        .result-area.success {
            border-color: #00ff88;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.2);
        }

        .result-area.error {
            border-color: #ff4444;
            box-shadow: 0 0 20px rgba(255, 68, 68, 0.2);
            color: #ff8888;
        }

        .result-area.loading {
            border-color: #00ccff;
            text-align: center;
            color: #00ccff;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 255, 136, 0.2);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .feature-title {
            color: #00ff88;
            margin-bottom: 10px;
        }

        .loading-dots {
            display: inline-block;
        }

        .loading-dots::after {
            content: '';
            animation: dots 1.5s steps(5, end) infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60% { content: '...'; }
            80%, 100% { content: ''; }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
        .result-area::-webkit-scrollbar {
            width: 8px;
        }

        .result-area::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }

        .result-area::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, #00ff88, #00ccff);
            border-radius: 4px;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #8899aa;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">CHIIP-SEEK CONTENT PARSER</h1>
            <p class="subtitle">Extract content from any website with CORS bypass</p>
        </div>

        <div class="main-content">
            <div class="input-section">
                <div class="input-group">
                    <label class="input-label">Website URL:</label>
                    <input type="url" class="url-input" id="urlInput" 
                           placeholder="https://example.com" 
                           autocomplete="off">
                </div>

                <div class="proxy-section">
                    <label class="input-label">Proxy Server:</label>
                    <select class="proxy-select" id="proxySelect">
                        <option value="corsproxy">CORS Proxy (corsproxy.io)</option>
                        <option value="allorigins">AllOrigins (api.allorigins.win)</option>
                        <option value="corsanywhere">CORS Anywhere</option>
                        <option value="whatever">Whatever Origin</option>
                        <option value="direct">Direct Request</option>
                    </select>
                </div>

                <button class="btn" onclick="parseContent()">
                    üöÄ EXTRACT CONTENT
                </button>

                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value" id="charCount">0</div>
                        <div class="stat-label">Characters</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="status">Ready</div>
                        <div class="stat-label">Status</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="proxyUsed">-</div>
                        <div class="stat-label">Proxy Used</div>
                    </div>
                </div>
            </div>

            <div class="output-section">
                <label class="input-label">Extracted Content:</label>
                <div class="result-area" id="resultArea">
Enter a URL and click "Extract Content" to get started...
                </div>
            </div>
        </div>

        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">‚ö°</div>
                <h3 class="feature-title">Fast Extraction</h3>
                <p>Quick content parsing with multiple proxy servers</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üõ°Ô∏è</div>
                <h3 class="feature-title">CORS Bypass</h3>
                <p>Overcome cross-origin restrictions effortlessly</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üîß</div>
                <h3 class="feature-title">Multiple Proxies</h3>
                <p>Switch between different proxy services</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üìä</div>
                <h3 class="feature-title">Real-time Stats</h3>
                <p>Live character count and status updates</p>
            </div>
        </div>

        <div class="footer">
            <p>CHIIP-SEEK System | Advanced Content Extraction</p>
        </div>
    </div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const urlInput = document.getElementById('urlInput');
        const resultArea = document.getElementById('resultArea');
        const charCount = document.getElementById('charCount');
        const status = document.getElementById('status');
        const proxyUsed = document.getElementById('proxyUsed');
        const proxySelect = document.getElementById('proxySelect');

        // –ü—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä—ã
        const proxies = {
            corsproxy: (url) => `https://corsproxy.io/?${encodeURIComponent(url)}`,
            allorigins: (url) => `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`,
            corsanywhere: (url) => `https://cors-anywhere.herokuapp.com/${url}`,
            whatever: (url) => `https://whateverorigin.org/get?url=${encodeURIComponent(url)}`,
            direct: (url) => url
        };

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤
        urlInput.addEventListener('input', function() {
            charCount.textContent = this.value.length;
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter
        urlInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                parseContent();
            }
        });

        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞
        async function parseContent() {
            const url = urlInput.value.trim();
            const selectedProxy = proxySelect.value;

            if (!url) {
                showResult('‚ùå Please enter a valid URL', 'error');
                return;
            }

            // –í–∞–ª–∏–¥–∞—Ü–∏—è URL
            if (!isValidUrl(url)) {
                showResult('‚ùå Please enter a valid URL (include http:// or https://)', 'error');
                return;
            }

            showResult('üîÑ Initializing content extraction...\nBypassing CORS restrictions...', 'loading');
            status.textContent = 'Processing';
            proxyUsed.textContent = selectedProxy;

            try {
                const proxyUrl = proxies[selectedProxy](url);
                
                console.log(`Using proxy: ${selectedProxy}`);
                console.log(`Target URL: ${proxyUrl}`);

                // –¢–∞–π–º–∞—É—Ç 25 —Å–µ–∫—É–Ω–¥
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 25000);

                const response = await fetch(proxyUrl, {
                    signal: controller.signal,
                    headers: {
                        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',
                        'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8'
                    }
                });

                clearTimeout(timeoutId);

                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }

                let content;
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤ –ø—Ä–æ–∫—Å–∏
                if (selectedProxy === 'whatever') {
                    const data = await response.json();
                    content = data.contents;
                } else {
                    content = await response.text();
                }

                if (!content) {
                    throw new Error('No content received from the server');
                }

                // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                const extractedText = extractTextContent(content);
                
                if (!extractedText) {
                    throw new Error('No readable text content found');
                }

                // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                const result = formatResult(url, selectedProxy, extractedText);
                showResult(result, 'success');
                status.textContent = 'Success';

            } catch (error) {
                const errorMessage = `‚ùå EXTRACTION FAILED\n\nError: ${error.message}\n\nTry:\n‚Ä¢ Different proxy server\n‚Ä¢ Check URL accessibility\n‚Ä¢ Verify website is online`;
                showResult(errorMessage, 'error');
                status.textContent = 'Error';
            }
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è URL
        function isValidUrl(string) {
            try {
                new URL(string);
                return true;
            } catch (_) {
                return false;
            }
        }

        // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ HTML
        function extractTextContent(html) {
            try {
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                // –£–¥–∞–ª—è–µ–º –Ω–µ–Ω—É–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
                const unwanted = doc.querySelectorAll('script, style, nav, header, footer, iframe, link, meta, noscript');
                unwanted.forEach(element => element.remove());
                
                // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
                let text = doc.body.textContent || html;
                
                // –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
                text = text
                    .replace(/\s+/g, ' ')
                    .replace(/\n\s*\n/g, '\n')
                    .replace(/[ \t]+/g, ' ')
                    .trim();
                
                return text;
            } catch (error) {
                console.warn('HTML parsing failed, using raw content');
                return html.replace(/<[^>]*>/g, ' ').replace(/\s+/g, ' ').trim();
            }
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        function formatResult(url, proxy, content) {
            const maxLength = 20000;
            const isTruncated = content.length > maxLength;
            const displayContent = content.substring(0, maxLength);
            
            let result = `‚úÖ CONTENT EXTRACTED SUCCESSFULLY\n\n`;
            result += `üìä Source: ${url}\n`;
            result += `üîß Proxy: ${proxy}\n`;
            result += `üìè Length: ${content.length.toLocaleString()} characters\n`;
            result += `üïí Timestamp: ${new Date().toLocaleString()}\n\n`;
            result += `üìÑ EXTRACTED CONTENT:\n\n${displayContent}`;
            
            if (isTruncated) {
                result += `\n\n... [CONTENT TRUNCATED - ${(content.length - maxLength).toLocaleString()} CHARACTERS OMITTED] ...`;
            }
            
            return result;
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        function showResult(message, type) {
            resultArea.textContent = message;
            resultArea.className = `result-area ${type}`;
        }

        // –ê–≤—Ç–æ—Ñ–æ–∫—É—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', function() {
            urlInput.focus();
        });

        // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π URL
        urlInput.value = 'https://example.com';
        charCount.textContent = urlInput.value.length;
    </script>
</body>
</html>
